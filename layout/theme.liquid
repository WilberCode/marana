<!doctype html>
<html class="no-js" lang="{{ shop.locale }}">
<head>
  <!-- Alchemy v3.1.1 -->
  <meta charset="utf-8" />

  <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' /><![endif]-->

  <title>
    {{ page_title }}{% if current_tags %}{% assign meta_tags = current_tags | join: ', ' %} &ndash; {{ 'general.meta.tags' | t: tags: meta_tags }}{% endif %}{% if current_page != 1 %} &ndash; {{ 'general.meta.page' | t: page: current_page }}{% endif %}{% unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless %}
  </title>

  {% if page_description %}
  <meta name="description" content="{{ page_description | escape }}" />
  {% endif %}
  
  <meta name="keywords" content="chocolate maran치, chocolate peruano, cacao peruano, chocolate bean to bar, chocotejas maran치, comprar chocolate peruano, chocolate artesanal per칰, cacao fino de aroma, chocolate de origen per칰, maran치 tienda online, tabletas de chocolate maran치, maran치 per칰, chocolate org치nico per칰, cacao piura, cacao cusco, chocolate oscuro peruano, regalos de chocolate per칰, chocotejas artesanales, delivery de chocolates lima, chocolate single origin, maran치 bites, d칩nde comprar chocolate artesanal, beneficios del cacao peruano, chocolate gourmet per칰, chocolates finos de aroma, chocolate de alta calidad, cat치logo maran치 chocolates, comprar chocolate org치nico online, chocotejas para regalo, experiencia bean to bar">

  <link rel="canonical" href="{{ canonical_url }}" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="{{ settings.col_btn_bg }}">

  {% if settings.favicon != blank and settings.favicon contains '.png' %}
  <link rel="shortcut icon" href="{{ settings.favicon | img_url: 'master' }}" type="image/png" />
  {% elsif settings.favicon != blank and settings.favicon contains '.ico' %}
  <link rel="shortcut icon" href="{{ settings.favicon | img_url: 'master' }}" type="image/x-icon" />
  {% endif %}

  {% include 'social-meta-tags' %}

  {{ content_for_header }}

  {{ 'styles.scss.css' | asset_url | stylesheet_tag }}

  {{ '//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js' | script_tag }}
  {{ 'api.jquery.js' | shopify_asset_url | script_tag }}
  <script>
    document.documentElement.className = document.documentElement.className.replace('no-js', '');
    window.theme = window.theme || {};
    theme.jQuery = jQuery;
    theme.money_format = {{ shop.money_format | json }};
    theme.money_container = '.theme-money';
    theme.strings = {
      previous: {{ 'general.accessibility_labels.previous' | t | json }},
      next: {{ 'general.accessibility_labels.next' | t | json }},
      close: {{ 'general.accessibility_labels.close' | t | json }},
      addressError: {{ 'map.errors.address_error' | t | json }},
      addressNoResults: {{ 'map.errors.address_no_results' | t | json }},
      addressQueryLimit: {{ 'map.errors.address_query_limit_html' | t | json }},
      authError: {{ 'map.errors.auth_error_html' | t | json }},
      priceNonExistent: {{ 'products.variant.non_existent' | t | json }},
      buttonDefault: {{ 'products.product.add_to_cart' | t | json }},
      buttonNoStock: {{ 'products.variant.out_of_stock' | t | json }},
      buttonNoVariant: {{ 'products.variant.non_existent' | t | json }},
      productsListingFrom: {{ 'products.listing.from' | t | json }},
      searchSeeAll: {{ 'layout.search.see_all' | t | json }},
      cartTermsConfirmation: {{ 'cart.terms.confirmation' | t | json }},
      addingToCart: {{ 'products.product.adding_to_cart' | t | json }},
      addedToCart: {{ 'products.product.added_to_cart' | t | json }}
    };
    theme.routes = {
      search_url: '{{ routes.search_url }}',
      cart_add_url: '{{ routes.cart_add_url }}'
    };
    theme.checkForBannerBehindHeader = function(){
      $(window).off('.bannerBehindHeader');
      var $banner = $('.banner-under-header');
      if($banner.length) {
        $('body').addClass('has-banner');
        $(window).on('load.bannerBehindHeader scroll.bannerBehindHeader bannerBehindHeader.bannerBehindHeader', function(){
          $('body').toggleClass('header-overlapping', $(window).scrollTop() < $banner.outerHeight());
        }).trigger('bannerBehindHeader');
      } else {
        $('body').removeClass('has-banner header-overlapping');
      }
    }
    {% if settings.enable_transition_in %}
    // Reveal elements when in, or above, the viewport
    theme.checkForRevealElementsVerticalOffset = 50;
    theme.checkForRevealElementsStepDelay = 100;
    theme.checkForRevealElements = function(instant){
      var revealClass = instant === true ? 'reveal-candidate--reveal reveal-candidate--reveal-instant' : 'reveal-candidate--reveal';
      var $nowOnScreen = $('.reveal-candidate:not(.reveal-candidate--reveal)').filter(function(){
        var elTop = $(this).offset().top; // magic offset
        var windowScrollTop = $(window).scrollTop();
        if(elTop < windowScrollTop + $(window).height() - theme.checkForRevealElementsVerticalOffset) {
          // if off top of screen, reveal immediately
          if(elTop + $(this).outerWidth() < windowScrollTop) {
            $(this).addClass(revealClass);
          } else {
            // otherwise return true to reveal in step
            return true;
          }
        }
        return false;
      });
      $nowOnScreen.each(function(index){
        if(index > 0 && instant !== true) {
          $(this).addClass(revealClass + ' reveal-candidate--reveal-delay');
          setTimeout((function(){
            $(this).removeClass('reveal-candidate--reveal-delay');
          }).bind(this), theme.checkForRevealElementsStepDelay * index);
        } else {
          $(this).addClass(revealClass);
        }
      });
    }
    {% else %}
    theme.checkForRevealElements = function(){}
    {% endif %}
  </script>



  {{ 'translation-lab-language-switcher-floating.css' | asset_url | stylesheet_tag }}
  {% render 'rapid-search-settings' %}
</head>

<body id="{{ page_title | handle }}" class="{% if customer %}customer-logged-in {% endif %}template-{{ template | replace: '.', ' ' | truncatewords: 1, '' | handle }}{% if template contains 'customers' %} template-customer-area{% endif %}" >
  <a class="skip-link visually-hidden" href="#main">{{ 'general.accessibility_labels.skip_to_content' | t }}</a>

  {% section 'announcement' %}

  {% section 'header' %}

  {% assign templates_with_layout = 'index,collection,product,cart,search,blog,article,page,page.contact,list-collections,page.list-collections' | split: ',' %}

  {% unless templates_with_layout contains template or template contains 'customers' %}
  <div class="container">
    <div id="main" class="content-main" role="main">
      {% endunless %}

      {{ content_for_layout }}

      {% unless templates_with_layout contains template or template contains 'customers' %}
    </div>
  </div>
  {% endunless %}

  <script>
    theme.checkForBannerBehindHeader();
    theme.checkForRevealElements(true);
  </script>

  {% section 'footer' %}

  {{ 'vendor.js'  | asset_url | script_tag }}
  {{ 'theme.js'  | asset_url | script_tag }}

  <div class="hidden">
    {% form 'customer' %}
    {% if form.posted_successfully? %}
    <div class="newsletter-response success">
      <div class="h3 no-margin">{{ 'layout.signup.post_success' | t }}</div>
    </div>
    {% elsif form.errors %}
    <div class="newsletter-response">
      {% for field in form.errors %}
      <p class="error">{{ field | capitalize }} - {{ form.errors.messages[field] }}</p>
      {% endfor %}
    </div>
    {% endif %}
    {% endform %}
  </div>
<!-- Begin ReCharge code -->
{% include 'subscription-theme-footer' %}
<!-- End ReCharge code -->

 



  {% render 'translation-lab-language-switcher-floating' %}

<!-- **BEGIN** Hextom TMS Translator // Main Include - DO NOT MODIFY -->
    <script src="{{ 'tms-translator.js' | asset_url }}" defer="defer"></script>
    <!-- **END** Hextom TMS Translator // Main Include - DO NOT MODIFY -->


  
 <script>
  // La funci칩n principal de traducci칩n para textos que fueron traducidos a espa침ol
  function replaceButtonText() {
    // Verificar si el idioma actual de la p치gina es espa침ol
    const htmlLang = document.documentElement.lang;

    if (htmlLang && htmlLang.startsWith('es')) {
      const textMap = {
        "Add to cart": "A침adir al carrito",
        "Add to case": "A침adir al pack",
        "Next": "Siguiente",
        "Previous": "Anterior"
      };

      // Seleccionar todos los elementos button en la p치gina
      const buttons = document.querySelectorAll('button');

      buttons.forEach(button => {
        // Aseg칰rate de que no se traduzcan botones que ya han sido traducidos
        if (!button.dataset.translated) { // Usamos un atributo de datos para marcar
          for (const englishText in textMap) {
            if (textMap.hasOwnProperty(englishText)) {
              if (button.textContent.trim() === englishText) {
                button.textContent = textMap[englishText];
                button.dataset.translated = 'true'; // Marca el bot칩n como traducido
                break;
              }
            }
          }
        }
      });
    }
  }

  // Configuraci칩n del MutationObserver
  const observerConfig = {
    childList: true, // Observar adiciones/eliminaciones de nodos hijos
    subtree: true    // Observar en todo el sub치rbol del elemento objetivo
  };

  // Funci칩n de callback que se ejecuta cuando se detectan mutaciones
  const callback = (mutationsList, observer) => {
    for (const mutation of mutationsList) {
      if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
        // Si se han a침adido nuevos nodos, intentamos traducir de nuevo
        // No necesitamos un delay aqu칤 porque se ejecuta justo despu칠s del cambio del DOM
        replaceButtonText();
        break; // Una vez que se han traducido, no es necesario procesar m치s mutaciones en este ciclo
      }
    }
  };

  // Crear una instancia de MutationObserver
  const observer = new MutationObserver(callback);

  // Iniciar la observaci칩n del cuerpo del documento para cambios
  // Aseg칰rate de que el body exista antes de observarlo
  const targetNode = document.body;
  if (targetNode) {
    observer.observe(targetNode, observerConfig);
  }

  // Ejecutar la traducci칩n inicial al cargar la p치gina
  document.addEventListener('DOMContentLoaded', () => {
    // Puedes mantener el delay inicial si lo deseas, o quitarlo si no es necesario
    // setTimeout(replaceButtonText, 1000); // Con 1 segundo de delay
    replaceButtonText(); // Sin delay inicial
  });

</script>

<script>
(function () {
  const STORAGE_KEY = "activo_modal";

  // 1. Cuando se hace clic en el bot칩n para agregar regalo
  document.addEventListener("click", function (e) {
    if (e.target.closest(".bogos-gift-item-add-btn")) {
      // Guardamos el estado en localStorage
      localStorage.setItem(STORAGE_KEY, "1");

      // Esperamos 2 segundos y recargamos la p치gina
      setTimeout(() => {
        window.location.reload();
      }, 2000);
    }
  });

  // 2. Al cargar la p치gina revisamos el estado
  document.addEventListener("DOMContentLoaded", function () {
    if (localStorage.getItem(STORAGE_KEY) === "1") {
      const drawer = document.querySelector("vtn-cart-drawer");
      if (drawer) {
        drawer.classList.add("active"); // abrir el carrito
      }

      // 游댳 Aqu칤 lanzas el modal de tu app
      const modal = document.querySelector("#id-de-tu-modal"); 
      if (modal) {
        modal.classList.add("active"); // ajusta seg칰n tu l칩gica/modal
      }
    }
  });

  // 3. Si el usuario cierra el carrito o finaliza acci칩n, limpiamos el estado
  const clearSelectors = [
    ".vtn-drawer-close",
    ".vtn-cart-drawer-overlay",
    ".vtn-cart__checkout-button",
    ".vtn-cart__continue-shopping-button"
  ];

  document.addEventListener("click", function (e) {
    if (clearSelectors.some(sel => e.target.closest(sel))) {
      localStorage.removeItem(STORAGE_KEY);
    }
  });
})();
</script>

<script>
  setTimeout(function() { 
    // Seleccionamos el header del carrito
    const cartHeader = document.querySelector('.vtn-cart-drawer-header');

    // Comprobamos si el header existe
    if (cartHeader) {
      // Insertamos el mensaje justo despu칠s del header con estilos
      cartHeader.insertAdjacentHTML(
        'afterend', 
        '<p style="background-color:#e60000; color:#fff; border-radius:10px; padding:6px 4px; font-weight:bold; font-size:17px; margin:10px; text-align:center; margin-bottom:8px;">Ll칠vate 2 chocotejas de Regalo por la compra de S/100 en tabletas</p>'
      );
    }
  }, 2000); // 2000 ms = 2 segundos
</script>



<div class="shopify-dynamic-checkout---buttons" style="display:none!important;">{{ content_for_additional_checkout_buttons }}</div>
  {{ 'facets.js'  | asset_url | script_tag }}
</body>
</html>
